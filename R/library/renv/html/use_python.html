<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><title>R: Use Python</title>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<link rel="stylesheet" type="text/css" href="R.css" />
</head><body>

<table width="100%" summary="page for use_python {renv}"><tr><td>use_python {renv}</td><td style="text-align: right;">R Documentation</td></tr></table>

<h2>Use Python</h2>

<h3>Description</h3>

<p>Associate a version of Python with your project.
</p>


<h3>Usage</h3>

<pre>
use_python(
  python = NULL,
  ...,
  type = c("auto", "virtualenv", "conda", "system"),
  name = NULL,
  project = NULL
)
</pre>


<h3>Arguments</h3>

<table summary="R argblock">
<tr valign="top"><td><code>python</code></td>
<td>
<p>The path to the version of Python to be used with this project. See
<strong>Finding Python</strong> for more details.</p>
</td></tr>
<tr valign="top"><td><code>...</code></td>
<td>
<p>Optional arguments; currently unused.</p>
</td></tr>
<tr valign="top"><td><code>type</code></td>
<td>
<p>The type of Python environment to use. When <code>"auto"</code> (the default), a
Python environment (virtual environments on Linux / macOS; conda
environments on Windows) will be used.</p>
</td></tr>
<tr valign="top"><td><code>name</code></td>
<td>
<p>The name or path that should be used for the associated Python environment.
If <code>NULL</code> and <code>python</code> points to a Python executable living within a
pre-existing virtual environment, that environment will be used. Otherwise,
a project-local environment will be created instead, using a name
generated from the associated version of Python.</p>
</td></tr>
<tr valign="top"><td><code>project</code></td>
<td>
<p>The project directory. If <code>NULL</code>, then the active project will
be used. If no project is currently active, then the current working
directory is used instead.</p>
</td></tr>
</table>


<h3>Details</h3>

<p>When Python integration is active, <code>renv</code> will:
</p>

<ul>
<li><p> Save metadata about the requested version of Python in <code>renv.lock</code> &ndash; in
particular, the Python version, and the Python type (&quot;virtualenv&quot;, &quot;conda&quot;,
&quot;system&quot;),
</p>
</li>
<li><p> Capture the set of installed Python packages during <code>renv::snapshot()</code>,
</p>
</li>
<li><p> Re-install the set of recorded Python packages during <code>renv::restore()</code>.
</p>
</li></ul>

<p>In addition, when the project is loaded, the following actions will be taken:
</p>

<ul>
<li><p> The <code>RENV_PYTHON</code> environment variable will be set, indicating the version
of Python currently active for this sessions,
</p>
</li>
<li><p> The <code>RETICULATE_PYTHON</code> environment variable will be set, so that the
<code>reticulate</code> package can automatically use the requested copy of Python
as appropriate,
</p>
</li>
<li><p> The requested version of Python will be placed on the <code>PATH</code>, so that
attempts to invoke Python will resolve to the expected version of Python.
</p>
</li></ul>

<p>You can override the version of Python used in a particular project by
setting the <code>RENV_PYTHON</code> environment variable; e.g. as part of the
project's <code>.Renviron</code> file. This can be useful if you find that <code>renv</code>
is unable to automatically discover a compatible version of Python to
be used in the project.
</p>


<h3>Value</h3>

<p><code>TRUE</code>, indicating that the requested version of Python has been
successfully activated. Note that this function is normally called for its
side effects.
</p>


<h3>Finding Python</h3>

<p>In interactive sessions, when <code>python = NULL</code>, <code>renv</code> will prompt for an
appropriate version of Python. <code>renv</code> will search a pre-defined set of
locations when attempting to find Python installations on the system:
</p>

<ul>
<li> <p><code>getOption("renv.python.root")</code>,
</p>
</li>
<li> <p><code style="white-space: pre;">/opt/python</code>,
</p>
</li>
<li> <p><code style="white-space: pre;">/opt/local/python</code>,
</p>
</li>
<li> <p><code style="white-space: pre;">~/opt/python</code>,
</p>
</li>
<li> <p><code style="white-space: pre;">/usr/local/opt</code> (for macOS Homebrew-installed copies of Python),
</p>
</li>
<li> <p><code style="white-space: pre;">~/.pyenv/versions</code>,
</p>
</li>
<li><p> Python instances available on the <code>PATH</code>.
</p>
</li></ul>

<p>In non-interactive sessions, <code>renv</code> will first check the <code>RETICULATE_PYTHON</code>
environment variable; if that is unset, <code>renv</code> will look for Python on the
<code>PATH</code>. It is recommended that the version of Python to be used is explicitly
supplied for non-interactive usages of <code>use_python()</code>.
</p>


<h3>Examples</h3>

<pre>
## Not run: 

# use python with a project
renv::use_python()

# use python with a project; create the environment
# within the project directory in the '.venv' folder
renv::use_python(name = ".venv")

# use virtualenv python with a project
renv::use_python(type = "virtualenv")

# use conda python with a project
renv::use_python(type = "conda")


## End(Not run)
</pre>

<hr /><div style="text-align: center;">[Package <em>renv</em> version 0.13.2-16 <a href="00Index.html">Index</a>]</div>
</body></html>
